{#
  GroupMe Archiver: A web application to store and display GroupMe group histories
  Copyright (C) 2016 Jordan Buchman

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
#}

{% extends "layout.html" %}

{% block header %}
<h1>
    GroupMe Viewer
  </h1>
{% endblock %}

{% block body %}
<a href="/groups">
    Groups
  </a>
<form onSubmit="return addGroup();">
    Add Group:
    <select id="id" name="id">
      {% for group in groups %}
        {% set name,id = group %}
        <option value="{{id}}">{{name}}</option>
      {% endfor %}
    </select>
    <input type="submit" value="Go">
</form>
<a href="/members">
    Members
  </a>
<form onSubmit="return addMember();">
    Add Member:
    <select id="member_id" name="member_id">
      {% for member in members %}
        {% set name,id = member %}
        <option value="{{id}}">{{name}}</option>
      {% endfor %}
    </select>
    <input type="submit" value="Go">
</form>
<script>
    function addGroup() {
        var id = $("#id").val();
        window.location.href = "/add_group/" + id + "?type=group";
        return false;
    }

    function addMember() {
        var id = $("#member_id").val();
        window.location.href = "/add_group/" + id + "?type=member";
        return false;
    }
</script>
{% endblock %}